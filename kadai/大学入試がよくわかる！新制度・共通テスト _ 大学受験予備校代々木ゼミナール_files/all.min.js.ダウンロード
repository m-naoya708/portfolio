/*!
 * @fileOverview Utility functions.
 */
!function(e,t,n){"use strict";t.fn.imageRollover=function(e){var n,i=t.extend({suffix:"_on",excludes:["_current"]},e);return i.excludes.push(i.suffix),n=new RegExp(i.excludes.join("|")),this.filter("[src]").filter(function(){return n.test(this.src)===!1}).each(function(){var e=new Image;e.src=this.src.replace(/\.(gif|jpe?g|png)$/,i.suffix+".$1"),t(this).data("imageRollover",{normal:this.src,hover:e.src}).on("mouseenter.rollover",function(){this.src=t(this).data("imageRollover").hover}).on("mouseleave.rollover",function(){this.src=t(this).data("imageRollover").normal})}),this},t.getScrollElement=function(){var e,n=t(window).scrollTop();return t(window).scrollTop(n+1),e=t("html").scrollTop()>0?"html":"body",t(window).scrollTop(n),e},t.fn.smoothScroll=function(e){var n=t.extend({selector:null,speed:1300,easing:"easeInOutQuad",callback:null},e),i=t(t.getScrollElement());return i.on("mousewheel",function(){i.stop()}),this.on("click.smoothscroll",n.selector,function(){if(!t(this).hasClass("smooth-none")){var e,o,s=t(document).height()-t(window).height();if(e=this.hash?t(this.hash.replace(":","\\:")):null,!e||!e.length)return;o=Math.min(s,e.offset().top),i.animate({scrollTop:o},n.speed,n.easing,function(){n.callback&&n.callback()})}return!1}),this},t.equalHeights=function(){var e=!1,n=[],i=function(n){e||s();var i=0;n.height("auto").each(function(){t(this).height()>i&&(i=t(this).height())}),i>0&&n.height(i)},o=function(){return n.length?void t.each(n,function(e,t){i(t)}):!1},s=function(){e=!0,"fontSizeDetector"in t&&t.fontSizeDetector.addEventListener(o)};return{add:function(e){return n.push(e),i(e)},equalize:function(){return o()}}}(),t.fn.equalHeights=function(){return t.equalHeights.add(this),this},t.fontSizeDetector=function(e){var n,i,o=t.extend({interval:1e3},e),s=!1,a=[],r=-1,c=0,l=function(){s||u(),r=i.width(),c!==r&&(c=r,d())},d=function(){a.length&&t.each(a,function(e,t){t()})},u=function(){s=!0,i=t("<span></span>").css({width:"1em",height:"1px",position:"absolute",top:"-1em",left:"-1em",fontFamily:"monospace"}).appendTo("body"),n=setInterval(l,o.interval)};return{detect:function(){return l()},addEventListener:function(e){return a[a.length]=e,l()}}}(),t.fn.accordion=function(e){var n=t.extend({handle:".js-accordion-handle",content:".js-accordion-content",speed:"fast",easing:"easeOutExpo"},e),i=function(e,i,o){o.show(),"undefined"!=typeof t.equalHeights&&t.equalHeights.equalize(),o.hide().height("auto").slideDown(n.speed,n.easing),e.removeClass("is-collapsed").addClass("is-expanded")},o=function(e,t,i){i.slideUp(n.speed,n.easing),e.removeClass("is-expanded").addClass("is-collapsed")};return this.each(function(){var e=t(this),s=e.find(n.handle),a=e.find(n.content);s.length&&a.length&&("collapsed"===e.data("accordionDefault")?(e.addClass("is-collapsed"),a.hide()):"expanded"===e.data("accordionDefault")&&(e.addClass("is-expanded"),a.show()),e.on("expand",function(){i(e,s,a)}).on("collapse",function(){o(e,s,a)}),s.on("click",function(t){e.trigger(a.is(":visible")?"collapse":"expand"),t.preventDefault()}))})},t.fn.tab=function(e){var n=t.extend({handle:".js-tab-handle a, a.js-tab-handle",target:".js-tab-content",speed:"normal",easing:"easeOutCirc"},e);return this.each(function(){var e,i=t(this),o=i.find(n.target),s=i.find(n.handle),a=function(){o.filter(e).addClass("is-current").show(),"undefined"!=typeof t.equalHeights&&t.equalHeights.equalize()},r=function(){o.removeClass("is-current").hide()},c=function(){s.removeClass("is-current").filter("[href="+e+"]").addClass("is-current")};s.off("click.smoothscroll").on("click",function(){return t(this).hasClass("is-current")||(e=t(this).attr("href").replace(/.*?#/,"#"),r(),a(),c()),!1}).first().trigger("click")})},t.fn.popbox=function(e){var n=t.extend({selector:this.selector,open:".popbox-open",box:".popbox-modal",close:".popbox-close"},e),i={open:function(e){e.preventDefault(),i.close();var o=t(this),s=t(this).parent().find(n.box);t(this).addClass("is-current"),"block"===s.css("display")?i.close():s.css({display:"block",top:10,left:o.parent().width()/2-s.width()/2})},close:function(){t(n.box).fadeOut("fast"),t(n.open).removeClass("is-current")}};return t(document).bind("keyup",function(e){27===e.keyCode&&i.close()}),t(document).bind("click",function(e){t(e.target).closest(n.selector).length||i.close()}),this.each(function(){t(n.open,this).bind("click",i.open),t(n.open,this).parent().find(n.close).bind("click",function(e){e.preventDefault(),i.close()})})}}(window,window.jQuery,window._),/*!
 * @fileOverview Common functions.
 */
function(e,t){"use strict";var n={initialize:function(){return this},render:function(){return this.setUpSmoothScroll(),this.setUpRollover(),this.setUpAccordion(),this.setUpTab(),this.setUpDesignselectbox(),this.setUpClearform(),this.setUpInternetRequest(),this.setUpRedirectRequest(),this},onLoad:function(){return this.setUpEqualHeights(),this.setUpCategoryNav(),this},setUpSmoothScroll:function(){e('a[href^="#"], area[href^="#"]').smoothScroll()},setUpRollover:function(){e(".js-swap").imageRollover()},setUpAccordion:function(){e(".js-accordion").accordion()},setUpTab:function(){e(".js-tab").tab()},setUpEqualHeights:function(){var t,n=e(".js-tab-content, .js-accordion-content").filter(":hidden"),i=n.length,o={};i&&n.addClass("js-hidden-content").show(),e(".js-equal-heights").each(function(){var n="";i&&(t=e(this).parents(".js-tab-content").eq(0).attr("id"),n=t?"tab-"+t+"-":""),n+=e(this).data("equalHeightsGroup")?"group-"+e(this).data("equalHeightsGroup"):"offset-"+e(this).offset().top,n in o||(o[n]=e([])),o[n]=o[n].add(this)}),i&&n.filter(".js-hidden-content").hide(),e.each(o,function(){this.equalHeights()})},setUpCategoryNav:function(){var t=5,n=e("nav.aside-category"),i=n.find("a"),o=function(e){return encodeURI(e).replace(/\/{2,}/,"/").replace(/\/index\.[a-z]{2,4}$/,"/")},s=function(e){var t=e.replace(/\/$/,"").lastIndexOf("/")+1;return e.substring(0,t)},a=function(){i.each(function(){e(this).attr("data-canonical-link",o(e(this).attr("href")))})},r=function(e,n){var o=i.filter("[data-canonical-link='"+e+"']");o.length?o.addClass("is-current").next(".is-collapsed").removeClass("is-collapsed").end().parents(".is-collapsed").removeClass("is-collapsed"):t>n&&r(s(e),n+1)},c=function(){n.find(".toggle-handle").on("click",function(){e(this).prev().toggleClass("is-collapsed")})},l=function(){var t=e("body").data("localNavCurrent")||o(window.location.pathname);n.length&&(a(),r(t,0),c())};l()},setUpDesignselectbox:function(){e(".js-design-select").easySelectBox({speed:100})},setUpClearform:function(){e(".js-clear-form").bind("click",function(){e(this.form).find(":checked").prop("checked",!1);var t=e(this.form).find(".js-design-select").find("option:first-child").text();e(this.form).find(".esb-displayer").html(t)})},setUpInternetRequest:function(){e(".js-internet-request").bind("click",function(){var e=!1,t=navigator.userAgent;return t.indexOf("iPhone")>0||t.indexOf("iPod")>0||t.indexOf("Android")>0||t.indexOf("Windows Phone")>0?window.open("https://www.yes-yozemi.jp/yozemi/ZE801EInitDisp"):window.open("https://www.yes-yozemi.jp/yozemi/ZE801AInitDisp","pc","menubar=no, toolbar=no, scrollbars=yes,resizable=yes"),e})},setUpRedirectRequest:function(){var t=navigator.userAgent,n="false";if("true"!==n){if(!(t.indexOf("iPhone")>0||t.indexOf("iPod")>0||t.indexOf("Android")>0||t.indexOf("Windows Phone")>0)){var i=e('[rel="canonical"]').attr("href");if("undefined"!=typeof i&&i!==!1&&""!==i){var o=i.replace(/http:\/\/www.yozemi.ac.jp/,"");location.href=o}return!1}var s=e("body").data("redirect-path");"undefined"!=typeof s&&s!==!1&&""!==s&&(location.href=s)}}};e(document).ready(t.bind(n.initialize().render,n)),e(window).on("load",t.bind(n.initialize().onLoad,n))}(window.jQuery,window._);